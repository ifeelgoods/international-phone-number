(function(){angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",function($timeout){return{restrict:"A",require:"^ngModel",scope:!0,link:function(scope,element,attrs,ctrl){var options,_read,_toArray;return _read=function(){var a;return intlTelInputUtils&&"string"==typeof(a=element.intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164))&&element.intlTelInput("setNumber",a),ctrl.$setViewValue(element.val())},_toArray=function(a){return Array.isArray(a)?a:a.toString().replace(/\s/g,"").split(",")},options={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"aggressive",dropdownContainer:"",formatOnDisplay:!0,initialCountry:"",nationalMode:!1,numberType:"",onlyCountries:void 0,preferredCountries:["us","gb","fr","br"]},options.geoIpLookup=scope.geoIpLookup,Object.keys(options).forEach(function(key){var option;if(option=eval("attrs."+key),angular.isDefined(option))return"preferredCountries"===key?options.preferredCountries=_toArray(option):"onlyCountries"===key?options.onlyCountries=_toArray(option):"boolean"==typeof options[key]?options[key]="true"===option:options[key]=option}),$timeout(function(){return element.intlTelInput(options)},500),ctrl.$parsers.push(function(a){return a?attrs.hasOwnProperty("keepModelClean")?element.intlTelInput("getNumber"):a.replace(/[^\d]/g,""):a}),ctrl.$parsers.push(function(a){return a?ctrl.$setValidity("international-phone-number",element.intlTelInput("isValidNumber")):(a="",delete ctrl.$error["international-phone-number"]),a}),element.on("blur keyup change",function(){return $timeout(_read)}),element.on("$destroy",function(){return element.off("blur keyup change")})}}})}).call(this);