(function(){"use strict";angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",function($timeout){return{restrict:"A",require:"^ngModel",scope:!0,link:function(scope,element,attrs,ctrl){var handleWhatsSupposedToBeAnArray,options,read;return read=function(){return ctrl.$setViewValue(element.val())},handleWhatsSupposedToBeAnArray=function(a){return"object"==typeof a?a:a.toString().replace(/[ ]/g,"").split(",")},options={autoPlaceholder:"aggressive",formatOnDisplay:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!1,numberType:"",onlyCountries:void 0,preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.8/js/utils.js",keepModelClean:!1},options.geoIpLookup=scope.geoIpLookup,angular.forEach(options,function(value,key){var option;if(option=eval("attrs."+key),angular.isDefined(option))return"preferredCountries"===key?options.preferredCountries=handleWhatsSupposedToBeAnArray(option):"onlyCountries"===key?options.onlyCountries=handleWhatsSupposedToBeAnArray(option):options[key]="boolean"==typeof value?"true"===option:option}),$timeout(function(){return element.intlTelInput(options)},500),ctrl.$parsers.push(function(a){return a?options.keepModelClean?element.intlTelInput("getNumber"):a.replace(/[^\d]/g,""):a}),ctrl.$parsers.push(function(a){return a?ctrl.$setValidity("international-phone-number",element.intlTelInput("isValidNumber")):(a="",delete ctrl.$error["international-phone-number"]),a}),element.on("blur keyup change",function(a){return scope.$apply(read)}),element.on("$destroy",function(){return element.off("blur keyup change")})}}})}).call(this);